<p>DragonBall Page</p>
<hr />

<!-- En la vida real no vamos a querer crear componentes con tanta logica, lo mejor es crear
    Componentes que tengan una responsabilidad unica por ejemplo en este caso tener un componente para
    agreagar personajes y tener otro componente para listarlos
-->
<section class="row">
    <div class="col-12 col-sm-6">
        <h3>Agregar: </h3>
        <input type="text" class="form-control" placeholder="Nombre"/>
        <input type="number" class="form-control mt-2" placeholder="Poder"/>
        <button class="mt-2 btn btn-primary">Agregar</button>
    </div>
    <!--
        Los componentes deben de tener una tarea en particular y hacerla bien por ejemplo el componente de abajo
        solo va a mostrar un listado y el de arriba solo va a poder agrear nuevos personajes llenando los campos
        Al final toda nuestra pagina esta compuesto de diferentes componentes pequenos
    -->
    <div class="col-12 col-sm-6">
        <!-- 
            Ahora en nuestro listado solo queremos mostrar los personajes con un poder fuerte, lo debiles los queremos ocultar
            Tenemos varias formas de hacer esto:
                - Usando "*ngIf" segido de una condicion (Esto se colocaba directamente en el elemento HTML) el problema es que no podemos mezclar el ngIf con el ngFor
                - El nuevo es "@if" siguiendo la sintaxis de cualquier lenguaje y si se cumple se muestra el codigo que tenga interno (Tambien podemos poner el "@else")
        -->
        <h3>Listado Fuerte</h3>
        <ul>
            <!--
                Para poner los elementos del arreglo "Character" tenemos las nuevas directivas que empiezan con @(@for) y las antiguas de ng(ngFor)
                Con el Track le damos seguimiento a un identificador unico
                @For( NombreIterador of NombreArreglo; track NombreIterador.Propiedad ) 

                Como el arreglo es una signal lo ponemos entre parentesis, por defecto viene "track $index" pero no hay que usar el indice porque puede
                dar efectos indeceados si modificados el arreglo constantemente
                Asi recorremos los elementos y ademas podemos usar varias banderas

                Como aqui tenemos un UL queremos que Angular nos coloce el numero del elemento
                para esto usamos la badera del "index" (Asi si queremos usar mas banderas o definir mas variables solo las separamos por coma)
            -->
            @for (character of characters(); track character.id; let idx = $index) {
                <!-- Uso de la condicion para que no se muestren personajes menores a 500 -->
                 @if( character.power > 500 ){
                    <li>
                        <span>{{ idx+1 }} - {{character.name}}</span>
                        <!--
                            Anteriormente le ponemos el poder en ROJO pero queremos que esto no aplicque mas que a los personajes con un poder arriba de 9000
                            tenemos que agreagar este estilo condicional, hay varias formas de hacerlo 
                                * [class.Nombre_de_la_clase_a_Condicionar]='VariableBooleana' (La clase se aplicara solo si la variable da True)
                                * [ngClass] -> Como esta es una directiva la tenemos que importar en el componente y nos permite mandar un objeto:
                                        "{ 'active: isActive,'
                                        'disable': isDisabled}"
                        
                        (Son varias tecnicas que tenemos para aplicar estilos condicionales)
                            Aqui usamos nuestra signal computada que es de solo lectura
                            Asi como implementamos la logica, el estilo lo aplicada a todos los elementos ya tendiramos que crear algo para que la condicion cambiase
                        
                        <strong
                            [ngClass]="powerClasess()"
                        >

                        En este caso aplicamos la clase de manera condicional solo si la clase es mayor a 9000
                            luego si queremos coloreear de otro color las demas tenemos que agregar otra que cumpla la condicion pero para un poder menor
                        -->
                        <strong 
                            [class.text-danger]="character.power > 9000" 
                            [class.text-primary]="character.power < 9000"
                        >
                            ({{ character.power }})</strong>
                    </li>
                }@else{
                    <li>Aqui no hay nadien</li>
                }
            }
        </ul>
    </div>
</section>
